{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/promise-polyfill/Promise.js","shouter.js","src/browser.js","src/shouter.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","root","bind","fn","thisArg","apply","arguments","Promise","this","TypeError","_state","_value","_deferreds","doResolve","resolve","reject","handle","deferred","me","push","asap","cb","onFulfilled","onRejected","ret","newValue","then","finale","len","Handler","done","value","reason","ex","setImmediate","setTimeout","isArray","Array","Object","prototype","toString","all","args","slice","res","val","remaining","constructor","race","values","_setImmediateFn",2,"_shouter","window","shouter","glob","Function","./shouter",3,"_toConsumableArray","arr","arr2","from","defineProperty","eventList","oldMessage","caller","event","result","undefined","_context","_ref","context","callback","concat","on","channel","route","getOldMessage","forEach","off","evList","splice","trigger","_len","_key","results","events","keys","routName","promiseResult","save","_deleteAllEvents","promise-polyfill"],"mappings":"CAAA,QAAAA,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAK,GAAA,GAAAC,OAAA,uBAAAN,EAAA,IAAA,MAAAK,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAX,EAAAG,IAAAS,WAAAb,GAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAS,QAAA,IAAA,GAAAL,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAa,GAAA,SAAAT,EAAAU,EAAAJ,ICAA,SAAAK,GAOA,QAAAC,GAAAC,EAAAC,GACA,MAAA,YACAD,EAAAE,MAAAD,EAAAE,YAMA,QAAAC,GAAAJ,GACA,GAAA,gBAAAK,MAAA,KAAA,IAAAC,WAAA,uCACA,IAAA,kBAAAN,GAAA,KAAA,IAAAM,WAAA,iBACAD,MAAAE,OAAA,KACAF,KAAAG,OAAA,KACAH,KAAAI,cAEAC,EAAAV,EAAAD,EAAAY,EAAAN,MAAAN,EAAAa,EAAAP,OAGA,QAAAQ,GAAAC,GACA,GAAAC,GAAAV,IACA,OAAA,QAAAA,KAAAE,WACAF,MAAAI,WAAAO,KAAAF,OAGAG,GAAA,WACA,GAAAC,GAAAH,EAAAR,OAAAO,EAAAK,YAAAL,EAAAM,UACA,IAAA,OAAAF,EAEA,YADAH,EAAAR,OAAAO,EAAAH,QAAAG,EAAAF,QAAAG,EAAAP,OAGA,IAAAa,EACA,KACAA,EAAAH,EAAAH,EAAAP,QAEA,MAAA7B,GAEA,WADAmC,GAAAF,OAAAjC,GAGAmC,EAAAH,QAAAU,KAIA,QAAAV,GAAAW,GACA,IACA,GAAAA,IAAAjB,KAAA,KAAA,IAAAC,WAAA,4CACA,IAAAgB,IAAA,gBAAAA,IAAA,kBAAAA,IAAA,CACA,GAAAC,GAAAD,EAAAC,IACA,IAAA,kBAAAA,GAEA,WADAb,GAAAX,EAAAwB,EAAAD,GAAAvB,EAAAY,EAAAN,MAAAN,EAAAa,EAAAP,OAIAA,KAAAE,QAAA,EACAF,KAAAG,OAAAc,EACAE,EAAA9B,KAAAW,MACA,MAAA1B,GAAAiC,EAAAlB,KAAAW,KAAA1B,IAGA,QAAAiC,GAAAU,GACAjB,KAAAE,QAAA,EACAF,KAAAG,OAAAc,EACAE,EAAA9B,KAAAW,MAGA,QAAAmB,KACA,IAAA,GAAApC,GAAA,EAAAqC,EAAApB,KAAAI,WAAAd,OAAA8B,EAAArC,EAAAA,IACAyB,EAAAnB,KAAAW,KAAAA,KAAAI,WAAArB,GAEAiB,MAAAI,WAAA,KAGA,QAAAiB,GAAAP,EAAAC,EAAAT,EAAAC,GACAP,KAAAc,YAAA,kBAAAA,GAAAA,EAAA,KACAd,KAAAe,WAAA,kBAAAA,GAAAA,EAAA,KACAf,KAAAM,QAAAA,EACAN,KAAAO,OAAAA,EASA,QAAAF,GAAAV,EAAAmB,EAAAC,GACA,GAAAO,IAAA,CACA,KACA3B,EAAA,SAAA4B,GACAD,IACAA,GAAA,EACAR,EAAAS,KACA,SAAAC,GACAF,IACAA,GAAA,EACAP,EAAAS,MAEA,MAAAC,GACA,GAAAH,EAAA,MACAA,IAAA,EACAP,EAAAU,IAvGA,GAAAb,GAAA,kBAAAc,eAAAA,cACA,SAAA/B,GAAAgC,WAAAhC,EAAA,IASAiC,EAAAC,MAAAD,SAAA,SAAAL,GAAA,MAAA,mBAAAO,OAAAC,UAAAC,SAAA3C,KAAAkC,GAiGAxB,GAAAgC,UAAA,SAAA,SAAAhB,GACA,MAAAf,MAAAkB,KAAA,KAAAH,IAGAhB,EAAAgC,UAAAb,KAAA,SAAAJ,EAAAC,GACA,GAAAL,GAAAV,IACA,OAAA,IAAAD,GAAA,SAAAO,EAAAC,GACAC,EAAAnB,KAAAqB,EAAA,GAAAW,GAAAP,EAAAC,EAAAT,EAAAC,OAIAR,EAAAkC,IAAA,WACA,GAAAC,GAAAL,MAAAE,UAAAI,MAAA9C,KAAA,IAAAS,UAAAR,QAAAsC,EAAA9B,UAAA,IAAAA,UAAA,GAAAA,UAEA,OAAA,IAAAC,GAAA,SAAAO,EAAAC,GAGA,QAAA6B,GAAArD,EAAAsD,GACA,IACA,GAAAA,IAAA,gBAAAA,IAAA,kBAAAA,IAAA,CACA,GAAAnB,GAAAmB,EAAAnB,IACA,IAAA,kBAAAA,GAEA,WADAA,GAAA7B,KAAAgD,EAAA,SAAAA,GAAAD,EAAArD,EAAAsD,IAAA9B,GAIA2B,EAAAnD,GAAAsD,EACA,MAAAC,GACAhC,EAAA4B,GAEA,MAAAT,GACAlB,EAAAkB,IAhBA,GAAA,IAAAS,EAAA5C,OAAA,MAAAgB,MAmBA,KAAA,GAlBAgC,GAAAJ,EAAA5C,OAkBAP,EAAA,EAAAA,EAAAmD,EAAA5C,OAAAP,IACAqD,EAAArD,EAAAmD,EAAAnD,OAKAgB,EAAAO,QAAA,SAAAiB,GACA,MAAAA,IAAA,gBAAAA,IAAAA,EAAAgB,cAAAxC,EACAwB,EAGA,GAAAxB,GAAA,SAAAO,GACAA,EAAAiB,MAIAxB,EAAAQ,OAAA,SAAAgB,GACA,MAAA,IAAAxB,GAAA,SAAAO,EAAAC,GACAA,EAAAgB,MAIAxB,EAAAyC,KAAA,SAAAC,GACA,MAAA,IAAA1C,GAAA,SAAAO,EAAAC,GACA,IAAA,GAAAxB,GAAA,EAAAqC,EAAAqB,EAAAnD,OAAA8B,EAAArC,EAAAA,IACA0D,EAAA1D,GAAAmC,KAAAZ,EAAAC,MAUAR,EAAA2C,gBAAA,SAAA/C,GACAiB,EAAAjB,GAGA,mBAAAH,IAAAA,EAAAJ,QACAI,EAAAJ,QAAAW,EACAN,EAAAM,UACAN,EAAAM,QAAAA,IAGAC,WCEM2C,GAAG,SAAS7D,EAAQU,EAAOJ,GC/LjC,YDkMA,IAAIwD,GAAW9D,EChMO,YAEtB,IAAsB,mBAAX+D,QACPA,OAAOC,QAAOF,EAHVE,YAID,CACH,GAAIC,GAAO,GAAIC,UAAS,gBACxBD,GAAKD,QAAOF,EANRE,WDyMLG,YAAY,IAAIC,GAAG,SAASpE,EAAQU,EAAOJ,GE3M9C,YFkNA,SAAS+D,GAAmBC,GAAO,GAAIvB,MAAMD,QAAQwB,GAAM,CAAE,IAAK,GAAIrE,GAAI,EAAGsE,EAAOxB,MAAMuB,EAAI9D,QAASP,EAAIqE,EAAI9D,OAAQP,IAAKsE,EAAKtE,GAAKqE,EAAIrE,EAAI,OAAOsE,GAAe,MAAOxB,OAAMyB,KAAKF,GAJtLtB,OAAOyB,eAAenE,EAAS,cAC3BmC,OAAO,IAiBXzC,EEnNO,mBAMP,IAAI0E,MAOAC,KAQAC,EAAS,SAAUC,EAAOzB,GAC1B,MAAO,IAAInC,SAAQ,SAACO,EAASC,GACzBoB,WAAW,WACP,GAAIiC,GAAMC,MACV,KFoNI,GAAIC,GAAUC,CEnNdH,IAASE,EAAAH,EAAMK,QAAND,EAAeJ,EAAMM,UAAQ5E,KAAAQ,MAAAkE,GAAAD,GAAAI,OAAAf,EAAIjB,KAC1C5B,EAAQsD,GACV,MAAOtF,GACLiC,EAAOjC,SAgBnB6F,EAAK,SAASC,EAASC,EAAOJ,EAAUD,EAASM,GAE3CF,IAAWZ,KACbA,EAAUY,OAGRC,IAASb,GAAUY,KACrBZ,EAAUY,GAASC,OAGvBb,EAAUY,GAASC,GAAO1D,MACtBsD,SAAUA,EACVD,QAASA,IAGTM,GAAiBF,IAAWX,IAC5BA,EAAWW,GAASG,QAAQ,SAAClC,IACrBgC,IAAUhC,EAAIgC,OAAmB,MAAVA,IACdJ,EAAQ5E,KAAAQ,MAARoE,GAATD,GAAOE,OAAAf,EAAcd,EAAIH,WAarCsC,EAAM,SAASJ,EAASC,EAAOJ,GAM/B,GALyB,IAArBnE,UAAUR,SACV2E,EAAWI,EACXA,EAAQ,KAGRD,IAAWZ,IAAaa,IAASb,GAAUY,GAE3C,IAAK,GADDK,GAASjB,EAAUY,GAASC,GACvBtF,EAAI0F,EAAOnF,OAAS,EAAGP,GAAK,EAAGA,IAChC0F,EAAO1F,GAAGkF,WAAaA,GACvBQ,EAAOC,OAAO3F,EAAG,IAa7B4F,EAAU,SAASP,EAASC,GFqN5B,IAAK,GAAIO,GAAO9E,UAAUR,OErNY4C,EAAIL,MAAA+C,EAAA,EAAAA,EAAA,EAAA,GAAAC,EAAA,EAAAD,EAAAC,EAAAA,IAAJ3C,EAAI2C,EAAA,GAAA/E,UAAA+E,EAC1C,IAAIC,KAEJ,IAAIV,IAAWZ,GAAW,CACtB,GAAIuB,GAASvB,EAAUY,EACvBtC,QAAOkD,KAAKD,GACPR,QAAQ,SAAAU,IACDZ,IAAUY,GAAsB,MAAVZ,GAA8B,MAAbY,IACvCF,EAAOE,GAAUV,QAAQ,SAAAZ,GFwNzB,MExNkCmB,GAAQnE,KAAK+C,EAAOC,EAAOzB,QAK7E,GAAIgD,GAAgBnF,QAAQkC,IAAI6C,EAEhC,QACIK,KAAM,WASF,MARMf,KAAWX,KACbA,EAAWW,OAEfX,EAAWW,GAASzD,MAChB0D,MAAOA,EACPnC,KAAMA,KAGF4C,QAASI,IAErBJ,QAASI,IASbE,EAAmB,WACnB5B,KACAC,MAGAX,GAAWqB,GAAAA,EAAIK,IAAAA,EAAKG,QAAAA,EAASS,iBAAAA,EF2NjChG,GEzNQ0D,QAAAA,EF0NR1D,EE1NiB+E,GAAAA,EF2NjB/E,EE3NqBoF,IAAAA,EF4NrBpF,EE5N0BuF,QAAAA,EF6N1BvF,EAAQ,WE5NO0D,IF8NZuC,mBAAmB,SAAS","file":"shouter.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(root) {\n\n\t// Use polyfill for setImmediate for performance gains\n\tvar asap = (typeof setImmediate === 'function' && setImmediate) ||\n\t\tfunction(fn) { setTimeout(fn, 1); };\n\n\t// Polyfill for Function.prototype.bind\n\tfunction bind(fn, thisArg) {\n\t\treturn function() {\n\t\t\tfn.apply(thisArg, arguments);\n\t\t}\n\t}\n\n\tvar isArray = Array.isArray || function(value) { return Object.prototype.toString.call(value) === \"[object Array]\" };\n\n\tfunction Promise(fn) {\n\t\tif (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n\t\tif (typeof fn !== 'function') throw new TypeError('not a function');\n\t\tthis._state = null;\n\t\tthis._value = null;\n\t\tthis._deferreds = []\n\n\t\tdoResolve(fn, bind(resolve, this), bind(reject, this))\n\t}\n\n\tfunction handle(deferred) {\n\t\tvar me = this;\n\t\tif (this._state === null) {\n\t\t\tthis._deferreds.push(deferred);\n\t\t\treturn\n\t\t}\n\t\tasap(function() {\n\t\t\tvar cb = me._state ? deferred.onFulfilled : deferred.onRejected\n\t\t\tif (cb === null) {\n\t\t\t\t(me._state ? deferred.resolve : deferred.reject)(me._value);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar ret;\n\t\t\ttry {\n\t\t\t\tret = cb(me._value);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tdeferred.reject(e);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdeferred.resolve(ret);\n\t\t})\n\t}\n\n\tfunction resolve(newValue) {\n\t\ttry { //Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n\t\t\tif (newValue === this) throw new TypeError('A promise cannot be resolved with itself.');\n\t\t\tif (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n\t\t\t\tvar then = newValue.then;\n\t\t\t\tif (typeof then === 'function') {\n\t\t\t\t\tdoResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._state = true;\n\t\t\tthis._value = newValue;\n\t\t\tfinale.call(this);\n\t\t} catch (e) { reject.call(this, e); }\n\t}\n\n\tfunction reject(newValue) {\n\t\tthis._state = false;\n\t\tthis._value = newValue;\n\t\tfinale.call(this);\n\t}\n\n\tfunction finale() {\n\t\tfor (var i = 0, len = this._deferreds.length; i < len; i++) {\n\t\t\thandle.call(this, this._deferreds[i]);\n\t\t}\n\t\tthis._deferreds = null;\n\t}\n\n\tfunction Handler(onFulfilled, onRejected, resolve, reject){\n\t\tthis.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n\t\tthis.onRejected = typeof onRejected === 'function' ? onRejected : null;\n\t\tthis.resolve = resolve;\n\t\tthis.reject = reject;\n\t}\n\n\t/**\n\t * Take a potentially misbehaving resolver function and make sure\n\t * onFulfilled and onRejected are only called once.\n\t *\n\t * Makes no guarantees about asynchrony.\n\t */\n\tfunction doResolve(fn, onFulfilled, onRejected) {\n\t\tvar done = false;\n\t\ttry {\n\t\t\tfn(function (value) {\n\t\t\t\tif (done) return;\n\t\t\t\tdone = true;\n\t\t\t\tonFulfilled(value);\n\t\t\t}, function (reason) {\n\t\t\t\tif (done) return;\n\t\t\t\tdone = true;\n\t\t\t\tonRejected(reason);\n\t\t\t})\n\t\t} catch (ex) {\n\t\t\tif (done) return;\n\t\t\tdone = true;\n\t\t\tonRejected(ex);\n\t\t}\n\t}\n\n\tPromise.prototype['catch'] = function (onRejected) {\n\t\treturn this.then(null, onRejected);\n\t};\n\n\tPromise.prototype.then = function(onFulfilled, onRejected) {\n\t\tvar me = this;\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\thandle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n\t\t})\n\t};\n\n\tPromise.all = function () {\n\t\tvar args = Array.prototype.slice.call(arguments.length === 1 && isArray(arguments[0]) ? arguments[0] : arguments);\n\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tif (args.length === 0) return resolve([]);\n\t\t\tvar remaining = args.length;\n\t\t\tfunction res(i, val) {\n\t\t\t\ttry {\n\t\t\t\t\tif (val && (typeof val === 'object' || typeof val === 'function')) {\n\t\t\t\t\t\tvar then = val.then;\n\t\t\t\t\t\tif (typeof then === 'function') {\n\t\t\t\t\t\t\tthen.call(val, function (val) { res(i, val) }, reject);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\targs[i] = val;\n\t\t\t\t\tif (--remaining === 0) {\n\t\t\t\t\t\tresolve(args);\n\t\t\t\t\t}\n\t\t\t\t} catch (ex) {\n\t\t\t\t\treject(ex);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < args.length; i++) {\n\t\t\t\tres(i, args[i]);\n\t\t\t}\n\t\t});\n\t};\n\n\tPromise.resolve = function (value) {\n\t\tif (value && typeof value === 'object' && value.constructor === Promise) {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn new Promise(function (resolve) {\n\t\t\tresolve(value);\n\t\t});\n\t};\n\n\tPromise.reject = function (value) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\treject(value);\n\t\t});\n\t};\n\n\tPromise.race = function (values) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tfor(var i = 0, len = values.length; i < len; i++) {\n\t\t\t\tvalues[i].then(resolve, reject);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Set the immediate function to execute callbacks\n\t * @param fn {function} Function to execute\n\t * @private\n\t */\n\tPromise._setImmediateFn = function _setImmediateFn(fn) {\n\t\tasap = fn;\n\t};\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = Promise;\n\t} else if (!root.Promise) {\n\t\troot.Promise = Promise;\n\t}\n\n})(this);",null,"'use strict';\n\nimport {shouter} from './shouter';\n\nif (typeof window !== 'undefined') {\n    window.shouter = shouter;\n} else {\n    var glob = new Function('return this')();\n    glob.shouter = shouter;\n}\n","'use strict';\n\n// Shouter\n// ---------------\n// Bind a callback function to an event.\n//\n//        var help = function() { alert('HELP!'); };\n//        shouter.on('avalanche', '*', help);\n//        shouter.trigger('avalanche', 'danger');\n//        shouter.off('avalanche', help);\n//\n\n// For some reason some people are still using old browsers and systems\nimport 'promise-polyfill';\n\n/**\n * List of registered events\n * @type {Object}\n */\nlet eventList = {};\n\n/**\n * Storage of old messages.\n * Used if a listener wants an already emited message\n * @type {Object}\n */\nlet oldMessage = {};\n\n/**\n * Helper function to make async calls\n * @param {Object}  event\n * @param {Array}   args\n * @return {Promise}\n*/\nlet caller = function (event, args) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            let result;\n            try {\n                result = event.context::event.callback(...args);\n                resolve(result);\n            } catch (e) {\n                reject(e);\n            }\n        });\n    });\n};\n\n\n/**\n * Binds a 'callback' to an event.\n * @param  {String}   channel       Name of the channel\n * @param  {String}   route         Name of the route, optional\n * @param  {function} callback      Callback function\n * @param  {Object}   context       Context of the function 'callback'\n * @param  {Boolian}  getOldMessage Determines if old triggers should be taken under account\n * @return {undefined}\n */\nlet on = function(channel, route, callback, context, getOldMessage) {\n\n    if (!(channel in eventList)) {\n        eventList[channel] = {};\n    }\n\n    if (!(route in eventList[channel])) {\n        eventList[channel][route] = [];\n    }\n\n    eventList[channel][route].push({\n        callback: callback,\n        context: context\n    });\n\n    if (getOldMessage && channel in oldMessage) {\n        oldMessage[channel].forEach((val) => {\n            if (route === val.route || route === '*') {\n                context::callback(...val.args);\n            }\n        });\n    }\n};\n\n/**\n * Remove event(s) from the event-list.\n * @param  {String}   channel    Name of the channel\n * @param  {String}   route      Name of the route, optional\n * @param  {Function} callback   Callback function for selecting a specific event\n * @return {undefined}\n */\nlet off = function(channel, route, callback) {\n    if (arguments.length === 2) {\n        callback = route;\n        route = '*';\n    }\n\n    if (channel in eventList && route in eventList[channel]) {\n        var evList = eventList[channel][route];\n        for (var i = evList.length - 1; i >= 0; i--) {\n            if (evList[i].callback === callback) {\n                evList.splice(i, 1);\n            }\n        }\n    }\n};\n\n/**\n * Trigger one or many events, firing all bound callbacks. All arguments will\n * be passed throw to the callback function.\n * @param  {String} eventName   Name of the event\n * @param  {*args}  arguments   Will be passed throw to the callback function\n * @return {object}\n */\nlet trigger = function(channel, route, ...args) {\n    let results = [];\n\n    if (channel in eventList) {\n        var events = eventList[channel];\n        Object.keys(events)\n            .forEach(routName => {\n                if (route === routName || route === '*' || routName === '*') {\n                    events[routName].forEach(event => results.push(caller(event, args)));\n                }\n            });\n    }\n\n    var promiseResult = Promise.all(results);\n\n    return {\n        save: function() {\n            if (!(channel in oldMessage)) {\n                oldMessage[channel] = [];\n            }\n            oldMessage[channel].push({\n                route: route,\n                args: args\n            });\n\n            return {results: promiseResult};\n        },\n        results: promiseResult\n    };\n};\n\n/**\n * Remove all events\n * Should only be used under test\n * @return {undefined}\n */\nlet _deleteAllEvents = function() {\n    eventList = {};\n    oldMessage = {};\n};\n\nlet shouter = {on, off, trigger, _deleteAllEvents};\n\nexport {shouter, on, off, trigger};\nexport default shouter;\n"],"sourceRoot":"/source/"}
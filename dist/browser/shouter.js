!function t(e,n,r){function o(u,c){if(!n[u]){if(!e[u]){var f="function"==typeof require&&require;if(!c&&f)return f(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var a=n[u]={exports:{}};e[u][0].call(a.exports,function(t){var n=e[u][1][t];return o(n?n:t)},a,a.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,e,n){!function(t){function n(t,e){return function(){t.apply(e,arguments)}}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,n(i,this),n(u,this))}function o(t){var e=this;return null===this._state?void this._deferreds.push(t):void a(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var r;try{r=n(e._value)}catch(o){return void t.reject(o)}t.resolve(r)})}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void s(n(e,t),n(i,this),n(u,this))}this._state=!0,this._value=t,c.call(this)}catch(r){u.call(this,r)}}function u(t){this._state=!1,this._value=t,c.call(this)}function c(){for(var t=0,e=this._deferreds.length;e>t;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function f(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function s(t,e,n){var r=!1;try{t(function(t){r||(r=!0,e(t))},function(t){r||(r=!0,n(t))})}catch(o){if(r)return;r=!0,n(o)}}var a="function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},l=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=this;return new r(function(r,i){o.call(n,new f(t,e,r,i))})},r.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new r(function(e,n){function r(i,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var c=u.then;if("function"==typeof c)return void c.call(u,function(t){r(i,t)},n)}t[i]=u,0===--o&&e(t)}catch(f){n(f)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){for(var r=0,o=t.length;o>r;r++)t[r].then(e,n)})},r._setImmediateFn=function(t){a=t},"undefined"!=typeof e&&e.exports?e.exports=r:t.Promise||(t.Promise=r)}(this)},{}],2:[function(t,e,n){"use strict";var r=t("./shouter");if("undefined"!=typeof window)window.shouter=r.shouter;else{var o=new Function("return this")();o.shouter=r.shouter}},{"./shouter":3}],3:[function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0}),t("promise-polyfill");var o={},i={},u=function(t,e){return new Promise(function(n,o){setTimeout(function(){var i=void 0;try{var u,c;i=(u=t.context,c=t.callback).call.apply(c,[u].concat(r(e))),n(i)}catch(f){o(f)}})})},c=function(t,e,n,u,c){t in o||(o[t]={}),e in o[t]||(o[t][e]=[]),o[t][e].push({callback:n,context:u}),c&&t in i&&i[t].forEach(function(t){(e===t.route||"*"===e)&&n.call.apply(n,[u].concat(r(t.args)))})},f=function(t,e,n){if(2===arguments.length&&(n=e,e="*"),t in o&&e in o[t])for(var r=o[t][e],i=r.length-1;i>=0;i--)r[i].callback===n&&r.splice(i,1)},s=function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),c=2;n>c;c++)r[c-2]=arguments[c];var f=[];if(t in o){var s=o[t];Object.keys(s).forEach(function(t){(e===t||"*"===e||"*"===t)&&s[t].forEach(function(t){return f.push(u(t,r))})})}var a=Promise.all(f);return{save:function(){return t in i||(i[t]=[]),i[t].push({route:e,args:r}),{results:a}},results:a}},a=function(){o={},i={}},l={on:c,off:f,trigger:s,_deleteAllEvents:a};n.shouter=l,n.on=c,n.off=f,n.trigger=s,n["default"]=l},{"promise-polyfill":1}]},{},[2]);
//# sourceMappingURL=shouter.js.map
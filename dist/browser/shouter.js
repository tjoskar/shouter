!function t(e,n,r){function o(u,f){if(!n[u]){if(!e[u]){var c="function"==typeof require&&require;if(!f&&c)return c(u,!0);if(i)return i(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[u]={exports:{}};e[u][0].call(s.exports,function(t){var n=e[u][1][t];return o(n?n:t)},s,s.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,e,n){"use strict";var r=t("./shouter");if("undefined"!=typeof window)window.shouter=r.shouter;else{var o=new Function("return this")();o.shouter=r.shouter}},{"./shouter":4}],2:[function(t,e,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){return"undefined"!=typeof self?self:"undefined"!=typeof t?t:"undefined"!=typeof window?window:new Function("return this")()}();n.globalObject=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){"use strict";var r=t("./global"),o=function(t){function e(t,e){return function(){t.apply(e,arguments)}}function n(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(t,e(o,this),e(i,this))}function r(t){var e=this;return null===this._state?void this._deferreds.push(t):void l(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var r;try{r=n(e._value)}catch(o){return void t.reject(o)}t.resolve(r)})}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void c(e(n,t),e(o,this),e(i,this))}this._state=!0,this._value=t,u.call(this)}catch(r){i.call(this,r)}}function i(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds.length;e>t;t++)r.call(this,this._deferreds[t]);this._deferreds=null}function f(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function c(t,e,n){var r=!1;try{t(function(t){r||(r=!0,e(t))},function(t){r||(r=!0,n(t))})}catch(o){if(r)return;r=!0,n(o)}}var l="function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};n.prototype["catch"]=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var o=this;return new n(function(n,i){r.call(o,new f(t,e,n,i))})},n.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&s(arguments[0])?arguments[0]:arguments);return new n(function(e,n){function r(i,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var f=u.then;if("function"==typeof f)return void f.call(u,function(t){r(i,t)},n)}t[i]=u,0===--o&&e(t)}catch(c){n(c)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,n){n(t)})},n.race=function(t){return new n(function(e,n){for(var r=0,o=t.length;o>r;r++)t[r].then(e,n)})},n._setImmediateFn=function(t){l=t},t.Promise||(t.Promise=n)};root.Promise||o(r.globalObject)},{"./global":2}],4:[function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0}),t("./lib/promise-polyfill");var o={},i={},u=function(t,e){return Promise.resolve().then(function(){var n,o;return(n=t.context,o=t.callback).call.apply(o,[n].concat(r(e)))})},f=function(t,e,n,u,f){t in o||(o[t]={}),e in o[t]||(o[t][e]=[]),o[t][e].push({callback:n,context:u}),f&&t in i&&i[t].forEach(function(t){(e===t.route||"*"===e)&&n.call.apply(n,[u].concat(r(t.args)))})},c=function(t,e,n){if(2===arguments.length&&(n=e,e="*"),t in o&&e in o[t])for(var r=o[t][e],i=r.length-1;i>=0;i--)r[i].callback===n&&r.splice(i,1)},l=function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),f=2;n>f;f++)r[f-2]=arguments[f];var c=[];if(t in o){var l=o[t];Object.keys(l).forEach(function(t){(e===t||"*"===e||"*"===t)&&l[t].forEach(function(t){return c.push(u(t,r))})})}var s=Promise.all(c);return{save:function(){return t in i||(i[t]=[]),i[t].push({route:e,args:r}),{results:s}},results:s}},s=function(){o={},i={}},a={on:f,off:c,trigger:l,_deleteAllEvents:s};n.shouter=a,n.on=f,n.off=c,n.trigger=l,n["default"]=a},{"./lib/promise-polyfill":3}]},{},[1]);
//# sourceMappingURL=shouter.js.map